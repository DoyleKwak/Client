<html>
    <head>
        <title>Hello</title>
        <link href="./style.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        

        <script>
            // function handleClick(languageCheck){
               
            //     axios.get('http://localhost:3000/language/'+languageCheck)
            //     .then((result)=>{
            //         document.getElementById("msg").innerHTML = result.data;
            //     });

            // }

            function handleClick(languageCheck,msg){
               
               axios.post('http://localhost:3000/language/',{lan:languageCheck,msg:msg})
               .then((result)=>{
                   document.getElementById("msg").innerHTML = result.data;
               });
           }

           function init(){

            axios.get('http://localhost:3000/language_all')
            .then((result)=>{
            const lan_box = document.getElementById('back');
                
                result.data.map(c=>{
                    console.log(c);

                    const input = document.createElement('input');
                    input.type = "button";
                    input.value = c.language;
                    input.addEventListener("click",()=>{
                        console.log('initiated');
                        handleClick(c.language,c.msg);
                    })

                    lan_box.appendChild(input);
                })

                
            });
              
           }

           const gotoReg = ()=>{
            location.href = "reg.html";
           }

           const del = ()=>{
            location.href='del.html';
           }

           const update = ()=>{
            location.href='update.html';
           }


        </script>        
    </head>

    <body onload="init();">
        <div id="back">
            <div id="msg">Select Language</div>

            <input type="button" value="登録" onclick="gotoReg();">
            <input type="button" value="修正" onclick="update()">
            <input type="button" value="削除" onclick="del();">

        </div>















    </body>
</html>
