<html>
    <head>
        <title>削除</title>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

        <script>
            const init = ()=>{
                axios.get('http:localhost:3000/language_all')
                .then(result=>{

                    const del = document.getElementById('del');
                    const select = document.createElement('select');
                    select.id = 'del_select';
                   
                    result.data.map(c=>{
                        const option = document.createElement('option');
                        option.innerHTML = c.language;

                        select.appendChild(option);
                    })

                    del.appendChild(select);
                })
            }

            const handelDel = ()=>{
                const selectedItem = document.getElementById('del_select').value;
                
                axios.post('http:localhost:3000/del',{item:selectedItem})
                .then(result=>{
                    if(result.data==='ok'){
                        document.getElementById('del_msg').innerHTML = '削除完了しました。';
                    }else{
                        document.getElementById('del_msg').innerHTML = '削除失敗しました。';
                    }
                });
            }

        </script>

    </head>

    <body onload="init();">

        <div id="del"></div>
        <div id="del_msg"></div>
        <input type="button" value="削除" onclick="handelDel();">
        <input type="button" value="ホームへ" onclick="location.href='app.html'">
    
    </body>
</html>